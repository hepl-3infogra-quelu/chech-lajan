{"version":3,"file":"app.min.js","sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"$","FastClick","Router","window","app","now","Date","document","body","console","log","router","start","./router","fastclick","jquery",2,"module","BackBone","Collection","extend","url","model","parse","oResponse","data","../models/terminal","backbone","jeolok","underscore",3,"Model","urlRoot",4,"oPosition","MainView","HeaderView","MapView","TerminalsListView","TerminalDetailsView","TerminalModel","TerminalsCollection","views","routes","terminals/list","terminals/map","terminals/details/:id","this","main","render","initHeader","header","that","getCurrentPosition","enableHighAccuracy","oError","oGivenPosition","latitude","longitude","coords","currentPosition","initMap","map","history","pushState","showTerminalsList","loading","oTerminalsCollection","list","collection","fetch","success","clearContent","initList","showTerminalsMap","showTerminalDetails","sTerminalId","oTerminal","id","details","initDetails","./collections/terminals","./models/terminal","./views/header","./views/main","./views/map","./views/terminal-details","./views/terminals-list",5,"_tpl","View","el","constructor","apply","arguments","remove","text","events","click #reload","$el","html","$status","find","bLoadingState","toggleClass","getStatus","setStatus","sText","reloadButtonClicked","preventDefault",6,"sNewStatus","_status","markers","title","setMap","Array","append","TerminalListView",7,"gMap","$map","setPosition","oMapOptions","zoom","disableDefaultUI","zoomControl","scrollWheel","google","maps","Map","newMarker","sType","sAnimation","bCenter","bDraggable","oPos","LatLng","setCenter","undefined","Marker","position","animation","Animation","toUpperCase","icon","draggable",8,"jeyodistans","oTerminalModel","click .problems a","click .back","oBank","get","oTerminalPosition","status","push","attr","css","color","name","end","toggle","hide","toggleEmptyState","set","save","show","goToBack","navigate","jeyo-distans",9,"click a","parseFloat","showTerminal","trigger",10,"TerminalElementView","$list","each","appendTo","goToMap","./terminals-list-element"],"mappings":"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"}