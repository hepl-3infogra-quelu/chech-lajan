{"version":3,"file":"app.min.js","sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"$","FastClick","Router","window","app","now","Date","document","body","console","log","router","start","./router","fastclick","jquery",2,"module","BackBone","Collection","extend","url","model","parse","oResponse","data","../models/terminal","backbone","jeolok","underscore",3,"Model","urlRoot",4,"oPosition","MainView","HeaderView","MapView","TerminalsListView","TerminalDetailsView","TerminalModel","TerminalsCollection","views","routes","terminals/list","terminals/map","terminals/details/:id","this","main","render","initHeader","header","that","getCurrentPosition","enableHighAccuracy","oError","oGivenPosition","latitude","longitude","coords","currentPosition","initMap","map","history","pushState","showTerminalsList","loading","oTerminalsCollection","list","collection","fetch","success","clearContent","initList","showTerminalsMap","showTerminalDetails","sTerminalId","oTerminal","id","details","initDetails","./collections/terminals","./models/terminal","./views/header","./views/main","./views/map","./views/terminal-details","./views/terminals-list",5,"_tpl","View","el","constructor","apply","arguments","remove","text","events","click #reload","$el","html","$status","find","bLoadingState","toggleClass","getStatus","setStatus","sText","reloadButtonClicked","preventDefault",6,"sNewStatus","_status","markers","title","setMap","Array","append","TerminalListView",7,"gMap","$map","positionMarker","setPosition","oMapOptions","zoom","disableDefaultUI","zoomControl","scrollWheel","google","maps","Map","newMarker","sType","sAnimation","bCenter","bDraggable","oPos","LatLng","setCenter","undefined","Marker","position","animation","Animation","toUpperCase","icon","draggable","refresh","event","trigger",8,"jeyodistans","oTerminalModel","click .problems a","click .back","click #refresh-me","bUpdateMarker","oBank","get","oTerminalPosition","status","push","attr","css","color","name","end","toggle","hide","toggleEmptyState","set","save","show","goToBack","navigate","refreshPosition","jeyo-distans",9,"click a","showTerminal",10,"TerminalElementView","$list","each","appendTo","goToMap","./terminals-list-element"],"mappings":"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"}